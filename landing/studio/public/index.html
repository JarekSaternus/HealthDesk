<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HealthDesk Blog Studio</title>
  <link rel="icon" type="image/svg+xml" href="/logo-color.svg">
  <link rel="stylesheet" href="studio.css">
</head>
<body>
  <!-- Sidebar -->
  <nav class="sidebar">
    <div class="sidebar-brand">
      <span class="brand-icon">S</span>
      <span>Blog Studio</span>
    </div>
    <ul class="sidebar-nav">
      <li><a href="#" data-view="dashboard" class="active">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/></svg>
        Dashboard
      </a></li>
      <li><a href="#" data-view="ideas">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a2 2 0 0 1-2 2H10a2 2 0 0 1-2-2v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7z"/><line x1="9" y1="22" x2="15" y2="22"/></svg>
        Idea Board
      </a></li>
      <li><a href="#" data-view="keywords">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
        Keywords
      </a></li>
      <li><a href="#" data-view="editor" id="nav-editor">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
        Editor
      </a></li>
      <li><a href="#" data-view="checker" id="nav-checker">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
        Checker
      </a></li>
      <li><a href="#" data-view="build">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg>
        Build & Deploy
      </a></li>
      <li><a href="#" data-view="guide">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
        SEO Guide
      </a></li>
    </ul>
  </nav>

  <!-- Main content -->
  <main class="main">

    <!-- ===== Dashboard ===== -->
    <section class="view" id="view-dashboard">
      <div class="view-header">
        <h1>Dashboard</h1>
        <button class="btn btn-primary" onclick="showNewArticleModal()">+ New Article</button>
      </div>
      <div class="stats-bar" id="stats-bar"></div>
      <div class="filter-bar">
        <select id="filter-lang" onchange="loadDashboard()">
          <option value="">All languages</option>
        </select>
        <select id="filter-status" onchange="loadDashboard()">
          <option value="">All statuses</option>
          <option value="idea">Idea</option>
          <option value="draft">Draft</option>
          <option value="review">Review</option>
          <option value="ready">Ready</option>
          <option value="published">Published</option>
        </select>
      </div>
      <div class="articles-grid" id="articles-grid"></div>
    </section>

    <!-- ===== Idea Board ===== -->
    <section class="view hidden" id="view-ideas">
      <div class="view-header">
        <h1>Idea Board</h1>
      </div>
      <div class="idea-form">
        <input type="text" id="idea-keyword" placeholder="Keyword / topic..." class="input">
        <select id="idea-lang" class="input input-sm">
          <option value="pl">PL</option>
          <option value="en">EN</option>
          <option value="de">DE</option>
          <option value="es">ES</option>
          <option value="fr">FR</option>
        </select>
        <input type="text" id="idea-notes" placeholder="Notes (optional)" class="input">
        <button class="btn btn-primary" onclick="addIdea()">Add Idea</button>
        <button class="btn" onclick="aiOutlineFromInput()" id="btn-ai-outline">AI Outline</button>
      </div>
      <div class="ai-outline-result hidden" id="ai-outline-result"></div>
      <div class="ideas-list" id="ideas-list"></div>

      <!-- Autopilot -->
      <div class="autopilot-section">
        <div class="autopilot-header">
          <h2>Autopilot</h2>
          <span class="autopilot-desc">Full pipeline: keyword research â†’ draft â†’ humanize â†’ grammar â†’ hero image</span>
        </div>
        <div class="autopilot-form">
          <select id="ap-lang" class="input input-sm">
            <option value="pl">PL</option><option value="en">EN</option>
            <option value="de">DE</option><option value="es">ES</option>
            <option value="fr">FR</option><option value="it">IT</option>
            <option value="pt">PT</option><option value="nl">NL</option>
            <option value="sv">SV</option>
          </select>
          <input type="text" id="ap-topic" placeholder="Topic / keyword..." class="input" onkeydown="if(event.key==='Enter')apAddTopic()">
          <button class="btn btn-sm" onclick="apAddTopic()">+ Add</button>
          <input type="text" id="ap-persona" placeholder="Persona (optional)" class="input" style="max-width:200px;">
          <button class="btn btn-primary" onclick="apStart()" id="btn-ap-start">Generate All</button>
        </div>
        <div class="ap-topics" id="ap-topics"></div>
        <div class="ap-progress hidden" id="ap-progress"></div>
        <div class="ap-results hidden" id="ap-results"></div>
      </div>
    </section>

    <!-- ===== Keywords ===== -->
    <section class="view hidden" id="view-keywords">
      <div class="view-header">
        <h1>Keyword Research</h1>
        <div class="kw-tabs">
          <button class="btn btn-sm kw-tab active" onclick="switchKwTab('research')">Research</button>
          <button class="btn btn-sm kw-tab" onclick="switchKwTab('tracker')">Rank Tracker</button>
          <button class="btn btn-sm kw-tab" onclick="switchKwTab('gsc')">GSC Analytics</button>
          <button class="btn btn-sm kw-tab" onclick="switchKwTab('structure')">Struktura</button>
        </div>
      </div>

      <!-- ===== Rank Tracker sub-tab ===== -->
      <div class="kw-subtab" id="kw-tab-tracker" style="display:none">
        <div class="tracker-header">
          <button class="btn btn-primary btn-sm" onclick="showAddKeywordForm()">+ Dodaj keyword</button>
          <button class="btn btn-sm" onclick="checkAllPositions()" id="btn-check-positions">SprawdÅº pozycje</button>
          <button class="btn btn-sm" onclick="seedExistingKeywords()" id="btn-seed-kw">Seed istniejÄ…ce</button>
          <span class="tracker-last-check" id="tracker-last-check"></span>
        </div>

        <!-- Add keyword form -->
        <div class="tracker-add-form hidden" id="tracker-add-form">
          <input type="text" id="tk-keyword" placeholder="Keyword..." class="input" onkeydown="if(event.key==='Enter')addTrackedKeyword()">
          <select id="tk-lang" class="input input-sm">
            <option value="pl">PL</option><option value="en">EN</option>
            <option value="de">DE</option><option value="es">ES</option><option value="fr">FR</option>
          </select>
          <select id="tk-target" class="input">
            <option value="">â€” Target URL â€”</option>
          </select>
          <button class="btn btn-primary btn-sm" onclick="addTrackedKeyword()">Dodaj</button>
          <button class="btn btn-sm" onclick="document.getElementById('tracker-add-form').classList.add('hidden')">Anuluj</button>
        </div>

        <!-- Cannibalization alert -->
        <div class="tracker-alert hidden" id="tracker-cannibalization"></div>

        <!-- Tracked keywords table -->
        <div class="tracker-table-wrap">
          <table class="tracker-table" id="tracker-table">
            <thead>
              <tr>
                <th>Keyword</th>
                <th>JÄ™zyk</th>
                <th>Target</th>
                <th>Pozycja</th>
                <th>Zmiana</th>
                <th>Trend</th>
                <th>Status</th>
                <th></th>
              </tr>
            </thead>
            <tbody id="tracker-tbody"></tbody>
          </table>
        </div>
      </div>

      <!-- ===== GSC Analytics sub-tab ===== -->
      <div class="kw-subtab" id="kw-tab-gsc" style="display:none">
        <div class="gsc-analytics-header">
          <div class="gsc-analytics-controls">
            <select id="gsc-period" class="input input-sm" onchange="loadGscAnalytics()">
              <option value="7">7 dni</option>
              <option value="28" selected>28 dni</option>
              <option value="90">90 dni</option>
            </select>
            <div class="gsc-view-toggle">
              <button class="btn btn-sm gsc-view-btn active" onclick="switchGscView('queries')">Zapytania</button>
              <button class="btn btn-sm gsc-view-btn" onclick="switchGscView('pages')">Strony</button>
              <button class="btn btn-sm gsc-view-btn" onclick="switchGscView('discover')">Odkryte</button>
            </div>
          </div>
        </div>

        <!-- Summary stats -->
        <div class="gsc-summary" id="gsc-summary"></div>

        <!-- Info/error message -->
        <div class="gsc-message" id="gsc-message"></div>

        <!-- Queries table -->
        <div class="gsc-table-wrap" id="gsc-view-queries">
          <table class="tracker-table" id="gsc-queries-table">
            <thead>
              <tr>
                <th>Zapytanie</th>
                <th>KlikniÄ™cia</th>
                <th>WyÅ›wietlenia</th>
                <th>CTR</th>
                <th>Pozycja</th>
                <th></th>
              </tr>
            </thead>
            <tbody id="gsc-queries-tbody"></tbody>
          </table>
        </div>

        <!-- Pages table -->
        <div class="gsc-table-wrap" id="gsc-view-pages" style="display:none">
          <table class="tracker-table" id="gsc-pages-table">
            <thead>
              <tr>
                <th>Strona</th>
                <th>KlikniÄ™cia</th>
                <th>WyÅ›wietlenia</th>
                <th>CTR</th>
                <th>Åšr. pozycja</th>
              </tr>
            </thead>
            <tbody id="gsc-pages-tbody"></tbody>
          </table>
        </div>

        <!-- Discovered keywords -->
        <div class="gsc-table-wrap" id="gsc-view-discover" style="display:none">
          <p class="gsc-discover-desc">Keywords z Google na ktÃ³re siÄ™ pojawiasz, ale nie Å›ledzisz w Rank Trackerze:</p>
          <table class="tracker-table" id="gsc-discover-table">
            <thead>
              <tr>
                <th>Zapytanie</th>
                <th>Strona</th>
                <th>KlikniÄ™cia</th>
                <th>WyÅ›wietlenia</th>
                <th>Pozycja</th>
                <th></th>
              </tr>
            </thead>
            <tbody id="gsc-discover-tbody"></tbody>
          </table>
        </div>
      </div>

      <!-- ===== Site Structure sub-tab ===== -->
      <div class="kw-subtab" id="kw-tab-structure" style="display:none">
        <div class="structure-wrap">
          <div class="structure-section">
            <h3>Landing Pages</h3>
            <div class="structure-grid" id="structure-landings"></div>
          </div>
          <div class="structure-section">
            <h3>Blog Posts</h3>
            <div class="structure-grid" id="structure-blogs"></div>
          </div>
        </div>
      </div>

      <!-- ===== Research sub-tab ===== -->
      <div class="kw-subtab" id="kw-tab-research">
      <div class="kw-search-form">
        <input type="text" id="kw-query" placeholder="Enter keyword or phrase..." class="input" onkeydown="if(event.key==='Enter')searchKeywords()">
        <select id="kw-lang" class="input input-sm">
          <option value="pl">PL</option>
          <option value="en">EN</option>
          <option value="de">DE</option>
          <option value="es">ES</option>
          <option value="fr">FR</option>
        </select>
        <button class="btn btn-primary" onclick="searchKeywords()" id="btn-kw-search">Search</button>
      </div>

      <div class="kw-results hidden" id="kw-results">
        <!-- SERP Top 5 -->
        <div class="kw-section">
          <h3>SERP Top 5</h3>
          <div class="serp-list" id="kw-serp"></div>
        </div>

        <!-- PAA + Autocomplete side by side -->
        <div class="kw-columns">
          <div class="kw-section kw-col">
            <h3>People Also Ask</h3>
            <div class="paa-list" id="kw-paa"></div>
          </div>
          <div class="kw-section kw-col">
            <h3>Autocomplete</h3>
            <div class="paa-list" id="kw-autocomplete"></div>
          </div>
        </div>

        <!-- Related Searches -->
        <div class="kw-section">
          <h3>Related Searches</h3>
          <div class="kw-related" id="kw-related"></div>
        </div>

        <!-- AI Analyze button -->
        <div class="kw-actions">
          <button class="btn btn-primary" onclick="analyzeKeyword()" id="btn-kw-analyze">AI Analyze</button>
        </div>

        <!-- AI Analysis result -->
        <div class="kw-analysis hidden" id="kw-analysis"></div>
      </div>
      </div><!-- /kw-tab-research -->
    </section>

    <!-- ===== Editor ===== -->
    <section class="view hidden" id="view-editor">
      <div class="view-header">
        <h1 id="editor-title">Editor</h1>
        <div class="editor-actions">
          <button class="btn btn-sm" onclick="aiSuggestDesc()">AI Description</button>
          <button class="btn btn-sm" onclick="aiWriteDraft()">AI Draft</button>
          <button class="btn btn-sm" onclick="aiImproveSEO()">AI Fix SEO</button>
          <button class="btn btn-sm" onclick="aiInternalLinks()">ðŸ”— Links</button>
          <button class="btn btn-sm" onclick="generateHeroImage()">ðŸ–¼ Hero Image</button>
          <button class="btn btn-sm" onclick="runSEOCheck()">SEO Check</button>
          <button class="btn btn-sm" onclick="switchView('checker')">Grammar</button>
          <button class="btn btn-primary btn-sm" onclick="saveArticle()">Save</button>
          <button class="btn btn-sm" onclick="previewArticle()">Preview</button>
          <button class="btn btn-danger btn-sm" onclick="currentArticle && deleteArticle(currentArticle.lang, currentArticle.slug)">Delete</button>
        </div>
      </div>

      <!-- Frontmatter form -->
      <div class="fm-bar" id="fm-bar">
        <div class="fm-row">
          <label>Title</label>
          <input type="text" id="fm-title" class="input" oninput="updateSEOLive()">
          <span class="fm-counter" id="fm-title-count">0</span>
        </div>
        <div class="fm-row">
          <label>Slug</label>
          <input type="text" id="fm-slug" class="input input-sm">
        </div>
        <div class="fm-row">
          <label>Description</label>
          <textarea id="fm-desc" class="input" rows="2" oninput="updateSEOLive()"></textarea>
          <span class="fm-counter" id="fm-desc-count">0</span>
        </div>
        <div class="fm-row fm-row-inline">
          <div><label>Date</label><input type="date" id="fm-date" class="input input-sm"></div>
          <div><label>Tags</label><input type="text" id="fm-tags" class="input" placeholder="comma-separated"></div>
          <div><label>Focus Keyword</label><input type="text" id="fm-keyword" class="input" placeholder="main SEO keyword"></div>
          <div><label>Lang</label><input type="text" id="fm-lang" class="input input-sm" readonly></div>
        </div>
      </div>

      <!-- Hero Image Panel -->
      <div class="hero-panel hidden" id="hero-panel">
        <div class="hero-panel-inner">
          <div class="hero-preview" id="hero-preview">
            <img id="hero-img" src="" alt="Hero image preview">
          </div>
          <div class="hero-info">
            <span class="hero-badge" id="hero-badge">No image</span>
            <span class="hero-size" id="hero-size"></span>
            <div class="hero-actions">
              <button class="btn btn-sm btn-primary" onclick="generateHeroImage()" id="hero-btn-generate">Generate</button>
              <button class="btn btn-sm btn-danger" onclick="deleteHeroImage()" id="hero-btn-delete" style="display:none">Delete</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Split editor -->
      <div class="editor-split">
        <div class="editor-pane">
          <textarea id="md-editor" class="md-editor" placeholder="Write your article in Markdown..." oninput="onEditorInput()"></textarea>
        </div>
        <div class="preview-pane">
          <div class="preview-content" id="md-preview"></div>
        </div>
      </div>

      <!-- SEO Score panel -->
      <div class="seo-panel hidden" id="seo-panel">
        <div class="seo-header">
          <h3>SEO Score: <span id="seo-score">â€”</span></h3>
          <button class="btn-close" onclick="document.getElementById('seo-panel').classList.add('hidden')">&times;</button>
        </div>
        <div id="seo-checks"></div>
      </div>
    </section>

    <!-- ===== Checker ===== -->
    <section class="view hidden" id="view-checker">
      <div class="view-header">
        <h1>Grammar & Readability</h1>
        <div class="editor-actions">
          <button class="btn btn-primary btn-sm" onclick="runGrammarCheck()">Check Grammar</button>
          <button class="btn btn-sm" onclick="runReadabilityCheck()">Readability</button>
          <button class="btn btn-sm" onclick="aiFixGrammar()" id="btn-ai-fix-grammar">AI Auto-Fix</button>
          <button class="btn btn-sm" onclick="aiHumanize()" id="btn-ai-humanize" style="background:#8b5cf6;color:#fff;">Humanize</button>
          <button class="btn btn-sm" onclick="aiAudit()" id="btn-ai-audit" style="background:#f59e0b;color:#000;">AI Check</button>
          <button class="btn btn-primary btn-sm" onclick="saveArticle()">Save</button>
        </div>
      </div>
      <div class="checker-content">
        <div class="checker-text" id="checker-text">
          <p class="checker-placeholder">Open an article in the Editor first, then switch to Checker.</p>
        </div>
        <div class="checker-sidebar" id="checker-sidebar">
          <div id="checker-results"></div>
        </div>
      </div>
    </section>

    <!-- ===== Build & Deploy ===== -->
    <section class="view hidden" id="view-build">
      <div class="view-header">
        <h1>Build & Deploy</h1>
      </div>
      <div class="build-cards">
        <div class="build-card">
          <h3>Build</h3>
          <p>Generate static HTML from templates + Markdown.</p>
          <button class="btn btn-primary" id="btn-build" onclick="runBuild()">Build</button>
        </div>
        <div class="build-card">
          <h3>Preview</h3>
          <p>Open built site in a new tab.</p>
          <button class="btn" onclick="window.open('/preview/pl/','_blank')">Landing PL</button>
          <button class="btn" onclick="window.open('/preview/en/','_blank')">Landing EN</button>
          <button class="btn btn-primary" onclick="window.open('/preview/pl/blog/','_blank')">Blog PL</button>
          <button class="btn" onclick="window.open('/preview/en/blog/','_blank')">Blog EN</button>
        </div>
        <div class="build-card">
          <h3>Deploy</h3>
          <p>Upload dist/ to healthdesk.site via FTP.</p>
          <button class="btn btn-danger" id="btn-deploy" onclick="runDeploy()">Deploy to Production</button>
        </div>
      </div>
      <div class="build-log hidden" id="build-log">
        <h3>Log</h3>
        <pre id="build-log-content"></pre>
      </div>

      <!-- GSC Indexing Panel -->
      <div class="gsc-panel" id="gsc-panel">
        <div class="gsc-header">
          <h2>Google Search Console</h2>
          <div class="gsc-actions">
            <button class="btn btn-primary btn-sm" onclick="gscSubmitNew()" id="btn-gsc-submit">ZgÅ‚oÅ› nowe do Google</button>
            <button class="btn btn-sm" onclick="gscSubmitAll()" id="btn-gsc-all">ZgÅ‚oÅ› wszystkie</button>
            <button class="btn btn-sm" onclick="gscRefresh()">OdÅ›wieÅ¼</button>
          </div>
        </div>
        <div class="gsc-stats" id="gsc-stats"></div>
        <div class="gsc-table-wrap">
          <table class="gsc-table" id="gsc-table">
            <thead>
              <tr><th>URL</th><th>Lastmod</th><th>ZgÅ‚oszony</th><th>Status</th></tr>
            </thead>
            <tbody id="gsc-tbody"></tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- ===== SEO Guide ===== -->
    <section class="view hidden" id="view-guide">
      <div class="view-header">
        <h1>SEO Workflow â€” od zera do publikacji</h1>
      </div>
      <div class="guide-content">

        <div class="guide-step">
          <div class="guide-step-number">1</div>
          <div class="guide-step-body">
            <h3>Keyword Research</h3>
            <p>Przejdz do zakladki <strong>Keywords</strong>.</p>
            <ol>
              <li>Wpisz temat w pole "Seed keyword" (np. <em>"ergonomia biurka"</em>)</li>
              <li>Kliknij <strong>Research</strong> â€” AI przeanalizuje wyniki i zaproponuje klastry</li>
              <li>Przejrzyj wyniki: volume, difficulty, intent</li>
              <li>Wybierz <strong>focus keyword</strong> o niskim KD i wysokim potencjale</li>
              <li>Zapisz keyword klikajac <strong>Track</strong></li>
            </ol>
            <div class="guide-tip">Celuj w long-tail keywords (3-5 slow) z KD &lt; 30 i informational intent.</div>
          </div>
        </div>

        <div class="guide-step">
          <div class="guide-step-number">2</div>
          <div class="guide-step-body">
            <h3>Pomysl na artykul</h3>
            <p>Przejdz do <strong>Idea Board</strong>.</p>
            <ol>
              <li>Kliknij <strong>+ New Idea</strong></li>
              <li>Wpisz tytul roboczy i focus keyword</li>
              <li>Kliknij <strong>AI Outline</strong> â€” AI wygeneruje strukture H2/H3</li>
              <li>Przejrzyj outline, dostosuj do siebie</li>
              <li>Kliknij <strong>Create Article</strong> â€” artykul pojawi sie w Dashboard</li>
            </ol>
            <div class="guide-tip">Dobry artykul ma 1500-2500 slow, 5-8 sekcji H2, i odpowiada na konkretne pytanie.</div>
          </div>
        </div>

        <div class="guide-step">
          <div class="guide-step-number">3</div>
          <div class="guide-step-body">
            <h3>Napisz draft (AI)</h3>
            <p>Otworz artykul w <strong>Editor</strong>.</p>
            <ol>
              <li>Kliknij <strong>AI Draft</strong> â€” AI napisze pelny artykul na bazie outline</li>
              <li>Przejrzyj i zedytuj â€” dodaj osobiste przyklady, dane, unikalna wartosc</li>
              <li>Sprawdz czy <code>focus_keyword</code> jest w frontmatter</li>
              <li>Upewnij sie ze keyword jest w: tytule, pierwszym akapicie, 1-2 naglowkach H2, meta description</li>
            </ol>
            <div class="guide-tip">AI draft to punkt startu â€” zawsze edytuj, dodaj swoj glos i unikalne informacje.</div>
          </div>
        </div>

        <div class="guide-step">
          <div class="guide-step-number">4</div>
          <div class="guide-step-body">
            <h3>Optymalizacja SEO</h3>
            <p>W edytorze uzyj narzedzi SEO:</p>
            <ol>
              <li><strong>AI Fix SEO</strong> â€” automatyczna poprawa meta title, description, naglowkow</li>
              <li><strong>Links</strong> â€” AI zaproponuje internal links do innych artykulow</li>
              <li>Dodaj proponowane linki w tresci (2-5 internal links na artykul)</li>
              <li>Sprawdz frontmatter: <code>title</code> (50-60 znakow), <code>description</code> (150-160 znakow)</li>
            </ol>
            <div class="guide-tip">Internal linking to klucz â€” kazdy artykul powinien linkowac do 2-5 innych i byc linkowany z 2-5 innych.</div>
          </div>
        </div>

        <div class="guide-step">
          <div class="guide-step-number">5</div>
          <div class="guide-step-body">
            <h3>Hero Image</h3>
            <ol>
              <li>Kliknij <strong>Hero Image</strong> w pasku narzedzi edytora</li>
              <li>AI wygeneruje prompt â†’ Gemini stworzy obraz â†’ Sharp skompresuje do WebP 1200x630</li>
              <li>Sprawdz podglad â€” jesli OK, obraz zostanie zapisany</li>
              <li>Alt text generowany automatycznie (SEO-friendly)</li>
            </ol>
            <div class="guide-tip">Obraz to og:image â€” bedzie widoczny przy udostepnianiu na social media.</div>
          </div>
        </div>

        <div class="guide-step">
          <div class="guide-step-number">6</div>
          <div class="guide-step-body">
            <h3>Grammar, Readability & Humanization</h3>
            <p>Przejdz do zakladki <strong>Checker</strong>. Masz 5 narzedzi:</p>

            <h4 style="margin-top:12px;color:var(--accent);">Check Grammar</h4>
            <p>Sprawdza gramatyke, interpunkcje i literowki przez LanguageTool API. Wyswietla liste bledow z sugestiami poprawek w sidebarze. Kliknij pojedyncze bledy zeby zobaczyc kontekst.</p>

            <h4 style="margin-top:12px;color:var(--accent);">Readability</h4>
            <p>Analizuje czytelnosc tekstu: srednia dlugosc zdan, najtrudniejsze akapity, Flesch Reading Ease score. Podswietla zbyt dlugie zdania i skomplikowane fragmenty. Cel: zdania &lt; 25 slow, akapity &lt; 4 zdan.</p>

            <h4 style="margin-top:12px;color:var(--accent);">AI Auto-Fix</h4>
            <p>Dwukrokowy proces: (1) sprawdza gramatyke przez LanguageTool, (2) wysyla znalezione bledy do Claude, ktory poprawia je w kontekscie calego artykulu. Automatycznie dzieli za dlugie zdania i lamie dlugie akapity. Nie zmienia tresci â€” tylko naprawia jezyk.</p>

            <h4 style="margin-top:12px;color:#8b5cf6;">Humanize</h4>
            <p>Usuwa wzorce typowe dla AI z istniejacego tekstu. Dwuetapowy proces:</p>
            <ol>
              <li><strong>Diagnoza</strong> â€” AI analizuje artykul i wypisuje 5-7 konkretnych problemow (wyswietlane w sidebarze)</li>
              <li><strong>Poprawa</strong> â€” przepisuje tekst wg 7 kategorii: struktura/rytm, glos/osobowosc, formatowanie, dane/zrodla, linki, keyword stuffing, intro/outro</li>
            </ol>
            <p>Co zmienia: redukuje boldy (max 3-4/1000 slow), dodaje osobisty glos i anegdoty, wstawia zastrzezenia/kontropinie, roznicuje dlugosci akapitow, ogranicza linki do produktu do 2-3, dodaje linki do zrodel zewnetrznych, usuwa zakazane zwroty AI ("warto zauwazyc", "ponadto", "kluczowym aspektem").</p>

            <h4 style="margin-top:12px;color:#f59e0b;">AI Check</h4>
            <p>Audyt "czy tekst brzmi jak AI?" â€” ocena w skali 1-10 z analiza 10 wymiarow:</p>
            <ol>
              <li>Symetria struktury sekcji</li>
              <li>Powtorzenia danych/faktow</li>
              <li>Naduzycie pogr&uacute;bien</li>
              <li>Brak osobistego glosu</li>
              <li>Sztampowe zwroty</li>
              <li>Statystyka w kazdej sekcji</li>
              <li>Brak kontrowersji/zastrzezen</li>
              <li>Encyklopedyczne intro</li>
              <li>Sztampowe outro</li>
              <li>Keyword stuffing</li>
            </ol>
            <p>Wyswietla: score, progress bary per wymiar, liste problemow z cytatami i konkretnymi fix-ami.</p>

            <div class="guide-tip"><strong>Rekomendowany workflow:</strong> AI Draft â†’ AI Check (sprawdz score) â†’ Humanize (jesli score &gt; 5) â†’ AI Check (weryfikacja) â†’ Check Grammar â†’ AI Auto-Fix â†’ Save.</div>
          </div>
        </div>

        <div class="guide-step">
          <div class="guide-step-number">7</div>
          <div class="guide-step-body">
            <h3>Build & Deploy</h3>
            <p>Przejdz do <strong>Build & Deploy</strong>.</p>
            <ol>
              <li>Kliknij <strong>Build</strong> â€” generuje statyczny HTML z Markdown + templates</li>
              <li>Kliknij <strong>Blog PL</strong> / <strong>Blog EN</strong> â€” podglad w przegladarce</li>
              <li>Sprawdz: wyglad, linki, obrazek hero, meta tagi (View Source â†’ og:image)</li>
              <li>Jesli OK â€” kliknij <strong>Deploy to Production</strong></li>
            </ol>
          </div>
        </div>

        <div class="guide-step">
          <div class="guide-step-number">8</div>
          <div class="guide-step-body">
            <h3>Indeksowanie w Google</h3>
            <p>Po deployu, w sekcji <strong>Google Search Console</strong> (ponizej Build):</p>
            <ol>
              <li>Kliknij <strong>OdswieÅ¼</strong> â€” zobaczysz liste URL-i z sitemap</li>
              <li>Kliknij <strong>Zglos nowe do Google</strong> â€” wysle nowe URL-e do indeksowania</li>
              <li>Status zmieni sie na "Zgloszone" â€” Google zaindeksuje w ciagu 1-7 dni</li>
            </ol>
            <div class="guide-tip">Po publikacji monitoruj GSC Analytics â€” klikniÄ™cia i pozycje pojawia sie po kilku dniach.</div>
          </div>
        </div>

        <div class="guide-checklist">
          <h3>Checklist przed publikacja</h3>
          <ul>
            <li><code>title</code> â€” 50-60 znakow, zawiera focus keyword</li>
            <li><code>description</code> â€” 150-160 znakow, zachecajacy, z keyword</li>
            <li><code>focus_keyword</code> â€” ustawiony w frontmatter</li>
            <li>Keyword w pierwszym akapicie i 1-2 naglowkach H2</li>
            <li>2-5 internal links do/z innych artykulow</li>
            <li>Hero image wygenerowany (1200x630 WebP)</li>
            <li><code>image_alt</code> â€” opisowy alt text</li>
            <li>Tresc: 1500+ slow, unikalna wartosc, bez blebow</li>
            <li><code>date</code> â€” dzisiejsza data (YYYY-MM-DD)</li>
            <li><code>status: published</code></li>
          </ul>
        </div>

      </div>
    </section>

  </main>

  <!-- New Article Modal -->
  <div class="modal-overlay hidden" id="modal-new">
    <div class="modal">
      <h2>New Article</h2>
      <div class="fm-row"><label>Language</label>
        <select id="new-lang" class="input input-sm">
          <option value="pl">PL</option><option value="en">EN</option>
          <option value="de">DE</option><option value="es">ES</option>
          <option value="fr">FR</option>
        </select>
      </div>
      <div class="fm-row"><label>Title</label><input type="text" id="new-title" class="input"></div>
      <div class="fm-row"><label>Slug</label><input type="text" id="new-slug" class="input" placeholder="auto-generated from title"></div>
      <div class="modal-actions">
        <button class="btn" onclick="closeModal()">Cancel</button>
        <button class="btn btn-primary" onclick="createArticle()">Create</button>
      </div>
    </div>
  </div>

  <script src="studio-app.js"></script>
</body>
</html>
